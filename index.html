<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>The Reset Guys | Reclaim Yourself</title>
    
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>⚡</text></svg>">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700;900&display=swap" rel="stylesheet">

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              black: '#000000',
              primary: '#D97736', // Rust Orange
              secondary: '#9C551F', // Bronze/Brown
              white: '#FFFFFF',
              'dark-gray': '#121212',
            },
            fontFamily: {
              sans: ['Roboto', 'sans-serif'],
            },
            animation: {
              'fade-in-up': 'fadeInUp 0.8s ease-out forwards',
              'fade-in-right': 'fadeInRight 0.8s ease-out forwards',
              'fade-in': 'fadeIn 0.3s ease-out forwards',
            },
            keyframes: {
              fadeInUp: {
                '0%': { opacity: '0', transform: 'translateY(20px)' },
                '100%': { opacity: '1', transform: 'translateY(0)' },
              },
              fadeInRight: {
                '0%': { opacity: '0', transform: 'translateX(-20px)' },
                '100%': { opacity: '1', transform: 'translateX(0)' },
              },
              fadeIn: {
                '0%': { opacity: '0' },
                '100%': { opacity: '1' },
              }
            }
          },
        },
      }
    </script>

    <style>
      body {
        background-color: #000000;
        color: #FFFFFF;
        font-family: 'Roboto', sans-serif;
      }
      html { scroll-behavior: smooth; }
      
      /* Scrollbar hiding */
      .no-scrollbar::-webkit-scrollbar { display: none; }
      .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
      
      /* Chat specific styles */
      .chat-bubble {
          max-width: 85%;
          padding: 12px 16px;
          border-radius: 12px;
          margin-bottom: 10px;
          font-size: 0.9rem;
          line-height: 1.5;
          position: relative;
      }
      .chat-user {
          background: linear-gradient(135deg, #D97736 0%, #9C551F 100%);
          color: white;
          align-self: flex-end;
          border-bottom-right-radius: 2px;
          box-shadow: 0 4px 15px rgba(217, 119, 54, 0.2);
      }
      .chat-ai {
          background-color: rgba(255,255,255,0.05);
          color: #e5e5e5;
          align-self: flex-start;
          border-bottom-left-radius: 2px;
          border: 1px solid rgba(255,255,255,0.1);
      }
      .typing-dot {
          animation: typing 1.4s infinite ease-in-out both;
          height: 6px;
          width: 6px;
          background-color: #aaa;
          border-radius: 50%;
          display: inline-block;
          margin: 0 2px;
      }
      @keyframes typing {
          0%, 80%, 100% { transform: scale(0); }
          40% { transform: scale(1); }
      }
    </style>

    <script type="importmap">
{
  "imports": {
    "@google/genai": "https://esm.run/@google/genai",
    "lucide-react": "https://esm.sh/lucide-react@^0.563.0",
    "react/": "https://esm.sh/react@^19.2.4/",
    "react": "https://esm.sh/react@^19.2.4"
  }
}
</script>
</head>

<body class="bg-black min-h-screen text-white font-sans selection:bg-primary selection:text-white">

    <!-- Navigation -->
    <nav id="navbar" class="fixed w-full z-50 transition-all duration-300 py-6 bg-transparent">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center">
                <div class="flex-shrink-0 flex items-center">
                    <a href="#" class="text-2xl font-black italic tracking-tighter text-white uppercase">
                        The <span class="text-primary">Reset</span> Guys
                    </a>
                </div>
                <div class="hidden lg:flex space-x-4 xl:space-x-6">
                    <a href="#highlights" class="text-white hover:text-primary font-bold uppercase tracking-wide text-xs xl:text-sm transition-colors duration-200">Highlights</a>
                    <a href="#overview" class="text-white hover:text-primary font-bold uppercase tracking-wide text-xs xl:text-sm transition-colors duration-200">Overview</a>
                    <a href="#philosophy" class="text-white hover:text-primary font-bold uppercase tracking-wide text-xs xl:text-sm transition-colors duration-200">Philosophy</a>
                    <a href="#team" class="text-white hover:text-primary font-bold uppercase tracking-wide text-xs xl:text-sm transition-colors duration-200">Team</a>
                    <a href="#whats-included" class="text-white hover:text-primary font-bold uppercase tracking-wide text-xs xl:text-sm transition-colors duration-200">Included</a>
                    <a href="#extras" class="text-white hover:text-primary font-bold uppercase tracking-wide text-xs xl:text-sm transition-colors duration-200">Extras</a>
                    <a href="#dates" class="text-white hover:text-primary font-bold uppercase tracking-wide text-xs xl:text-sm transition-colors duration-200">Dates</a>
                    <a href="#itinerary" class="text-white hover:text-primary font-bold uppercase tracking-wide text-xs xl:text-sm transition-colors duration-200">Itinerary</a>
                    <a href="#the-villa" class="text-white hover:text-primary font-bold uppercase tracking-wide text-xs xl:text-sm transition-colors duration-200">Villa</a>
                    <a href="#contact" class="text-white hover:text-primary font-bold uppercase tracking-wide text-xs xl:text-sm transition-colors duration-200">Contact</a>
                </div>
                <div class="lg:hidden">
                    <button id="mobile-menu-btn" onclick="toggleMobileMenu()" class="text-white hover:text-primary p-2 transition-colors">
                        <i data-lucide="menu" id="menu-icon"></i>
                    </button>
                </div>
            </div>
        </div>
        <div id="mobile-menu" class="hidden lg:hidden absolute top-full left-0 w-full bg-black border-b border-white/10 max-h-[80vh] overflow-y-auto">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3 flex flex-col gap-1">
                <!-- Mobile links injected here -->
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <div id="highlights" class="relative min-h-screen w-full overflow-hidden flex items-center justify-center">
        <div class="absolute inset-0 w-full h-full">
            <video autoPlay loop muted playsInline class="object-cover w-full h-full opacity-60" src="https://github.com/spiderfranlee/images/blob/244eed999f327cfc95480adc6d9af5587d6bd989/Homepage%20low%20res.mp4?raw=true">
                 <div class="w-full h-full bg-dark-gray flex items-center justify-center">
                    <p class="text-white">Video Placeholder</p>
                </div>
            </video>
            <div class="absolute inset-0 bg-gradient-to-t from-black via-black/50 to-black/30"></div>
        </div>
        <div class="relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 w-full h-full flex flex-col lg:flex-row items-center min-h-screen pt-24 pb-12 lg:py-0">
            <div class="w-full lg:w-[40%] max-w-2xl text-center lg:text-left flex flex-col items-center lg:items-start z-10 order-1 lg:pr-8 pointer-events-none lg:pointer-events-auto">
                <div class="pointer-events-auto">
                    <h2 class="text-primary font-bold tracking-[0.2em] uppercase mb-4 animate-fade-in-up">Wellness & Adventure Retreat</h2>
                    <h1 class="text-5xl md:text-7xl lg:text-8xl font-black text-white uppercase tracking-tighter mb-6 leading-none drop-shadow-2xl">
                        Reclaim <br/> <span class="text-transparent bg-clip-text bg-gradient-to-r from-primary to-secondary">Your Edge</span>
                    </h1>
                    <p class="max-w-xl text-lg md:text-xl text-gray-300 mb-10 font-medium leading-relaxed">
                        The ultimate circuit breaker. High-performance training meets high-quality downtime. Break the cycle of stress and hangovers without giving up the good life.
                    </p>
                    <div class="flex flex-col sm:flex-row gap-4">
                        <button onclick="document.getElementById('overview').scrollIntoView({ behavior: 'smooth' })" class="group inline-flex items-center justify-center px-8 py-3 text-base font-bold uppercase tracking-wider transition-all duration-300 ease-in-out transform hover:-translate-y-1 bg-primary text-white hover:bg-opacity-90 hover:shadow-lg hover:shadow-primary/20">
                            Book Your Retreat
                            <i data-lucide="arrow-right" class="ml-2 w-5 h-5 group-hover:translate-x-1 transition-transform"></i>
                        </button>
                        <button onclick="document.getElementById('dates').scrollIntoView({ behavior: 'smooth' })" class="inline-flex items-center justify-center px-8 py-3 text-base font-bold uppercase tracking-wider transition-all duration-300 ease-in-out transform hover:-translate-y-1 border-2 border-primary text-primary hover:bg-primary hover:text-white">
                            View Dates
                        </button>
                    </div>
                </div>
            </div>

            <!-- Showreel Card -->
            <div class="w-full lg:w-[55%] xl:w-[60%] mt-12 lg:mt-0 z-20 order-2 flex justify-center lg:block lg:absolute lg:right-0 lg:top-1/2 lg:-translate-y-1/2 lg:pl-8">
                <div onclick="openShowreel()" class="group relative cursor-pointer w-full bg-black/40 backdrop-blur-xl border border-white/10 rounded-2xl p-6 md:p-8 hover:bg-black/60 hover:border-primary/50 transition-all duration-500 shadow-2xl animate-fade-in-right transform hover:scale-[1.01]">
                    <div class="flex justify-between items-stretch gap-6 md:gap-8 h-72 sm:h-80 lg:h-96 xl:h-[32rem]">
                        <div class="flex flex-col justify-between py-2">
                            <div class="w-16 h-16 xl:w-20 xl:h-20 rounded-full border border-white/30 flex items-center justify-center bg-white/5 group-hover:bg-white group-hover:text-black group-hover:scale-110 transition-all duration-300">
                                <i data-lucide="play" class="w-7 h-7 ml-1 fill-current"></i>
                            </div>
                            <div>
                                <span class="text-2xl md:text-3xl xl:text-4xl font-bold text-white tracking-tight leading-none block">Play<br/>Showreel</span>
                                <p class="text-gray-400 text-sm xl:text-base mt-3 group-hover:text-white transition-colors hidden sm:block">Watch the experience</p>
                            </div>
                        </div>
                        <div class="relative flex-1 h-full rounded-xl overflow-hidden bg-black border border-white/10 group-hover:border-white/30 transition-colors shrink-0" id="preview-container">
                            <!-- Preview images injected via JS -->
                            <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent z-10"></div>
                            <div class="absolute bottom-4 left-0 right-0 text-center z-20">
                                <span class="text-white font-bold text-xs xl:text-sm uppercase tracking-widest flex items-center justify-center gap-2">
                                   Your Potential
                                   <span class="w-2 h-2 rounded-full bg-primary animate-pulse"></span>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Scroll Indicator -->
        <div class="absolute bottom-6 left-1/2 transform -translate-x-1/2 animate-bounce hidden 2xl:block z-30">
            <div class="w-6 h-10 border-2 border-white/30 rounded-full flex justify-center p-1">
                <div class="w-1 h-3 bg-primary rounded-full"></div>
            </div>
        </div>

        <!-- Full Screen Showreel Modal -->
        <div id="showreel-modal" class="hidden fixed inset-0 z-[100] bg-black/95 flex flex-col items-center justify-center animate-in fade-in duration-300">
            <button onclick="closeShowreel()" class="absolute top-6 right-6 text-white/50 hover:text-white z-50 p-2 transition-colors">
                <i data-lucide="x" class="w-8 h-8"></i>
            </button>
            
            <div class="relative w-full max-w-[90vw] aspect-video px-4 md:px-0 flex items-center justify-center">
                <div class="relative w-full h-full rounded-lg overflow-hidden shadow-2xl border border-white/10">
                    <img id="showreel-main-image" src="" alt="Showreel Slide" class="w-full h-full object-cover animate-in fade-in duration-500">
                    <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent pointer-events-none"></div>
                    <div class="absolute bottom-8 left-8 text-white">
                        <h3 class="text-2xl font-black uppercase mb-2">Experience The Elements</h3>
                        <p id="showreel-counter" class="text-sm font-medium text-gray-300">Highlight 1</p>
                    </div>
                </div>

                <button onclick="prevSlide(event)" class="absolute left-4 top-1/2 -translate-y-1/2 w-14 h-14 rounded-full bg-black/50 border border-white/10 text-white flex items-center justify-center hover:bg-primary hover:border-primary transition-all backdrop-blur-sm">
                    <i data-lucide="chevron-left" class="w-7 h-7"></i>
                </button>
                <button onclick="nextSlide(event)" class="absolute right-4 top-1/2 -translate-y-1/2 w-14 h-14 rounded-full bg-black/50 border border-white/10 text-white flex items-center justify-center hover:bg-primary hover:border-primary transition-all backdrop-blur-sm">
                    <i data-lucide="chevron-right" class="w-7 h-7"></i>
                </button>
            </div>

            <div id="showreel-thumbnails" class="mt-8 flex gap-3 overflow-x-auto max-w-full px-4 py-2 no-scrollbar">
                <!-- Thumbnails injected via JS -->
            </div>
        </div>
    </div>

    <!-- About Section -->
    <section id="overview" class="py-24 bg-black relative">
        <div class="max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="text-4xl md:text-6xl font-black uppercase text-white mb-16 text-center md:text-left tracking-tighter">
                The <span class="text-primary">Highlights</span>
            </h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="about-grid"></div>
        </div>
    </section>

    <!-- Philosophy Section -->
    <section id="philosophy" class="py-24 bg-dark-gray border-t border-white/5 relative overflow-hidden">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-16 items-center">
                <div>
                    <div class="inline-block bg-primary/10 text-primary px-4 py-1.5 rounded-full text-sm font-bold uppercase tracking-wider mb-6">Our Philosophy</div>
                    <h2 class="text-4xl md:text-5xl font-black uppercase text-white mb-6 leading-tight">
                        Stop The <br/> <span class="text-transparent bg-clip-text bg-gradient-to-r from-primary to-secondary">Yo-Yo Cycle</span>
                    </h2>
                    <p class="text-xl text-gray-300 mb-6 leading-relaxed">
                        You’re fit, you’re successful, but you’re stuck. The "work hard, play hard" motto has turned into "work hard, recover harder."
                    </p>
                    <p class="text-gray-400 mb-8 leading-relaxed">
                        We know you. You value a great steak and a cold beer. You reject the idea of eating birdseed or going sober for a month just to feel human again. You don't need a detox; you need a <strong>circuit breaker</strong>. We provide the structure to get you back on track without stripping away the joy of living.
                    </p>
                    <div class="space-y-6">
                        <div class="flex gap-4">
                            <div class="flex-shrink-0 w-12 h-12 rounded-lg bg-white/5 flex items-center justify-center text-primary">
                                <i data-lucide="wine" class="w-6 h-6"></i>
                            </div>
                            <div>
                                <h3 class="text-white font-bold uppercase text-lg">Enjoy The Ride</h3>
                                <p class="text-sm text-gray-400">We believe in earning your indulgences. Train hard in the morning so you can enjoy the sunset with a drink in hand, guilt-free.</p>
                            </div>
                        </div>
                        <div class="flex gap-4">
                            <div class="flex-shrink-0 w-12 h-12 rounded-lg bg-white/5 flex items-center justify-center text-primary">
                                <i data-lucide="shield-check" class="w-6 h-6"></i>
                            </div>
                            <div>
                                <h3 class="text-white font-bold uppercase text-lg">No Extremes</h3>
                                <p class="text-sm text-gray-400">Sustainable health isn't about 30-day challenges. It's about building systems that fit your real life.</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="relative">
                    <div class="absolute inset-0 bg-gradient-to-tr from-primary/20 to-transparent rounded-2xl transform rotate-3"></div>
                    <div class="relative bg-black border border-white/10 p-8 rounded-2xl shadow-2xl">
                        <h3 class="text-2xl font-black uppercase text-white mb-8 text-center border-b border-white/10 pb-4">
                            The <span class="text-primary">Balanced Hedonist</span>
                        </h3>
                        <div class="space-y-6">
                            <div class="flex items-start gap-4 p-4 bg-white/5 rounded-lg border border-white/5">
                                <i data-lucide="zap" class="text-primary flex-shrink-0 mt-1 w-5 h-5"></i>
                                <p class="text-gray-300 text-sm"><strong>The Problem:</strong> Frustrated by the cycle of overindulgence, hangovers, and missed workouts.</p>
                            </div>
                            <div class="flex items-start gap-4 p-4 bg-white/5 rounded-lg border border-white/5">
                                <i data-lucide="dumbbell" class="text-primary flex-shrink-0 mt-1 w-5 h-5"></i>
                                <p class="text-gray-300 text-sm"><strong>The Goal:</strong> Wanting to be fit and capable without living like a monk.</p>
                            </div>
                            <div class="flex items-start gap-4 p-4 bg-primary/20 rounded-lg border border-primary/30">
                                <i data-lucide="shield-check" class="text-primary flex-shrink-0 mt-1 w-5 h-5"></i>
                                <p class="text-white text-sm"><strong>The Solution:</strong> A structured environment to break the bad habits and reinstall the good ones. Accountability is the key.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Team Section -->
    <section id="team" class="py-24 bg-black border-t border-white/5 relative">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">
                <h2 class="text-3xl md:text-4xl font-black uppercase text-white mb-6">
                    Meet The <span class="text-primary">Guides</span>
                </h2>
                <p class="text-gray-300 max-w-2xl mx-auto text-lg">Expert practitioners dedicated to your physical and mental evolution.</p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-12 lg:gap-20">
                <!-- Guide 1 -->
                <div class="group">
                    <div class="relative overflow-hidden rounded-xl aspect-[3/4] mb-8 bg-dark-gray border border-white/10 group-hover:border-primary/50 transition-colors duration-500">
                        <video src="https://github.com/spiderfranlee/images/blob/c08d3c108eb1bc5690a76da61ff6911dcc185f3b/Dev_sBioVid.mp4?raw=true" poster="https://github.com/spiderfranlee/images/blob/main/39d750b7-e19c-4405-a45b-686989e26c8f.JPG?raw=true" autoPlay muted loop playsInline class="w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-700"></video>
                        <div class="absolute bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black via-black/80 to-transparent">
                            <h3 class="text-2xl font-bold text-white uppercase mb-1">Paul</h3>
                            <p class="text-primary font-bold tracking-wider text-xs uppercase">Strength & Performance</p>
                        </div>
                    </div>
                    <div class="space-y-6">
                        <p class="text-gray-400 leading-relaxed">Specializing in building bodies that can handle real life. His approach bridges the gap between elite performance and longevity. He focuses on bio-mechanics and strength standards that allow you to train hard in the gym so you can play hard on the weekends without breaking down.</p>
                        <div onclick="openVideo('https://github.com/spiderfranlee/images/blob/c08d3c108eb1bc5690a76da61ff6911dcc185f3b/Dev_sBioVid.mp4?raw=true')" class="relative overflow-hidden rounded-lg bg-dark-gray border border-white/10 p-4 flex items-center gap-4 group/video cursor-pointer hover:bg-white/5 transition-colors">
                            <div class="w-12 h-12 rounded-full bg-primary/20 flex items-center justify-center text-primary group-hover/video:scale-110 transition-transform">
                                <i data-lucide="play" class="w-5 h-5 fill-current"></i>
                            </div>
                            <div class="flex-1">
                                <p class="text-white font-bold text-sm uppercase">Watch Bio Video</p>
                                <p class="text-xs text-gray-500">Introduction & Philosophy</p>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Guide 2 -->
                <div class="group">
                    <div class="relative overflow-hidden rounded-xl aspect-[3/4] mb-8 bg-dark-gray border border-white/10 group-hover:border-secondary/50 transition-colors duration-500">
                        <img src="https://github.com/spiderfranlee/images/blob/main/Website%20Fran.png?raw=true" alt="Fran" class="w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-700">
                        <div class="absolute bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black via-black/80 to-transparent">
                            <h3 class="text-2xl font-bold text-white uppercase mb-1">Fran</h3>
                            <p class="text-secondary font-bold tracking-wider text-xs uppercase">Recovery & Mindset</p>
                        </div>
                    </div>
                    <div class="space-y-6">
                        <p class="text-gray-400 leading-relaxed">The calm amidst the chaos. He specializes in nervous system regulation and somatic practices, teaching you how to actively down-regulate stress. His methods are the antidote to the "always on" culture, helping you clear the brain fog and enjoy your downtime fully.</p>
                        <div class="relative overflow-hidden rounded-lg bg-dark-gray border border-white/10 p-4 flex items-center gap-4 group/video cursor-not-allowed opacity-50">
                            <div class="w-12 h-12 rounded-full bg-secondary/20 flex items-center justify-center text-secondary">
                                <i data-lucide="play" class="w-5 h-5 fill-current"></i>
                            </div>
                            <div class="flex-1">
                                <p class="text-white font-bold text-sm uppercase">Watch Bio Video</p>
                                <p class="text-xs text-gray-500">Coming Soon</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Video Modal -->
        <div id="video-modal" class="hidden fixed inset-0 z-[100] bg-black/95 flex items-center justify-center p-4 animate-in fade-in duration-300">
            <button onclick="closeVideo()" class="absolute top-6 right-6 text-white/50 hover:text-white z-[110] p-2 transition-colors">
                <i data-lucide="x" class="w-8 h-8"></i>
            </button>
            <div class="relative w-full max-w-5xl aspect-video bg-black rounded-xl overflow-hidden shadow-2xl border border-white/10">
                <video id="modal-video-player" src="" controls class="w-full h-full object-contain"></video>
            </div>
        </div>
    </section>

    <!-- What's Included Section -->
    <section id="whats-included" class="py-24 bg-dark-gray border-t border-white/5">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="text-3xl md:text-4xl font-black uppercase text-white mb-12 text-center">
                What's <span class="text-primary">Included</span>
            </h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center" id="included-grid">
                <!-- Injected via JS -->
            </div>
        </div>
    </section>

    <!-- Extras Section -->
    <section id="extras" class="py-24 bg-black border-t border-white/5">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="text-3xl md:text-4xl font-black uppercase text-white mb-6 text-center">
                Extra <span class="text-primary">Activities</span>
            </h2>
            <p class="text-gray-400 text-center max-w-2xl mx-auto mb-16">Curate your perfect escape with these premium add-ons and local experiences.</p>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-x-8 gap-y-6" id="extras-grid">
                <!-- Injected via JS -->
            </div>
        </div>
    </section>

    <!-- Dates Section -->
    <section id="dates" class="py-24 bg-dark-gray border-t border-white/5">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <h2 class="text-3xl md:text-5xl font-black uppercase text-white mb-8">
                Upcoming <span class="text-primary">Dates</span>
            </h2>
            <div class="p-12 border border-white/10 rounded-xl bg-black/50 inline-block max-w-2xl w-full">
                <div class="mb-8">
                    <span class="inline-block bg-primary/20 text-primary px-3 py-1 rounded-full text-sm font-bold uppercase mb-2">Next Retreat</span>
                    <h3 class="text-3xl font-bold mb-2 text-white">October 15 - 22, 2024</h3>
                    <p class="text-gray-400">Bali, Indonesia</p>
                </div>
                <div class="border-t border-white/10 pt-6 mb-8">
                    <p class="text-gray-300 italic mb-4">"The only way to find yourself is to lose yourself in the service of others."</p>
                    <p class="text-sm text-gray-500 uppercase tracking-widest">Only 4 spots remaining</p>
                </div>
                <button onclick="toggleChat()" class="bg-white text-black font-bold py-3 px-8 rounded hover:bg-gray-200 transition-colors uppercase tracking-wider">
                    Inquire for Pricing
                </button>
            </div>
        </div>
    </section>

    <!-- Itinerary Section -->
    <section id="itinerary" class="py-24 bg-black border-t border-white/5">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="text-3xl md:text-4xl font-black uppercase text-white mb-12 text-center">
                Sample <span class="text-secondary">Itinerary</span>
            </h2>
            <div class="max-w-3xl mx-auto space-y-0 relative border-l border-white/10 ml-4 md:ml-auto md:mr-auto" id="itinerary-container">
                 <!-- Injected via JS -->
            </div>
        </div>
    </section>

    <!-- The Villa Section -->
    <section id="the-villa" class="py-24 bg-dark-gray border-t border-white/5 relative">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">
                <h2 class="text-3xl md:text-4xl font-black uppercase text-white mb-6">
                    The <span class="text-primary">Villa</span>
                </h2>
                <p class="text-gray-300 max-w-2xl mx-auto text-lg leading-relaxed mb-8">
                    Nestled in nature, our private sanctuary provides the perfect environment for focus and restoration. Complete with private training grounds, cold plunge pools, and luxury suites.
                </p>
                <button onclick="document.getElementById('contact').scrollIntoView({behavior:'smooth'})" class="text-white border-b border-primary pb-1 hover:text-primary transition-colors font-bold uppercase text-sm tracking-widest">
                    Get Directions
                </button>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <!-- Image 1 -->
                <div class="relative group overflow-hidden rounded-xl border border-white/10 shadow-2xl">
                    <div class="aspect-[4/3] overflow-hidden">
                        <img src="https://github.com/spiderfranlee/images/blob/main/Aerial%20Shot.png?raw=true" alt="The Villa Aerial View" class="w-full h-full object-cover transform transition duration-700 group-hover:scale-110">
                    </div>
                    <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-60 group-hover:opacity-40 transition-opacity duration-300"></div>
                    <div class="absolute bottom-6 left-6"><span class="text-white font-bold text-lg uppercase tracking-wide">Aerial View</span></div>
                </div>
                <!-- Image 2 -->
                <div class="relative group overflow-hidden rounded-xl border border-white/10 shadow-2xl">
                    <div class="aspect-[4/3] overflow-hidden">
                        <img src="https://github.com/spiderfranlee/images/blob/main/Side%20aerial%203.png?raw=true" alt="The Villa Side View" class="w-full h-full object-cover transform transition duration-700 group-hover:scale-110">
                    </div>
                    <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-60 group-hover:opacity-40 transition-opacity duration-300"></div>
                    <div class="absolute bottom-6 left-6"><span class="text-white font-bold text-lg uppercase tracking-wide">Surrounding Nature</span></div>
                </div>
                <!-- Image 3 -->
                <div class="relative group overflow-hidden rounded-xl border border-white/10 shadow-2xl">
                    <div class="aspect-[4/3] overflow-hidden">
                        <img src="https://github.com/spiderfranlee/images/blob/main/Workout%20area.png?raw=true" alt="Workout Area" class="w-full h-full object-cover transform transition duration-700 group-hover:scale-110">
                    </div>
                    <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-60 group-hover:opacity-40 transition-opacity duration-300"></div>
                    <div class="absolute bottom-6 left-6"><span class="text-white font-bold text-lg uppercase tracking-wide">Private Gym</span></div>
                </div>
                <!-- Image 4 -->
                <div class="relative group overflow-hidden rounded-xl border border-white/10 shadow-2xl">
                    <div class="aspect-[4/3] overflow-hidden">
                        <img src="https://github.com/spiderfranlee/images/blob/main/IMG_7452.jpeg?raw=true" alt="Villa Details" class="w-full h-full object-cover transform transition duration-700 group-hover:scale-110">
                    </div>
                    <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-60 group-hover:opacity-40 transition-opacity duration-300"></div>
                    <div class="absolute bottom-6 left-6"><span class="text-white font-bold text-lg uppercase tracking-wide">Relaxation Zones</span></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer id="contact" class="bg-black border-t border-white/10 pt-16 pb-8">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-12 mb-12">
                <div class="space-y-4">
                    <h3 class="text-2xl font-black italic uppercase text-white">The <span class="text-primary">Reset</span> Guys</h3>
                    <p class="text-gray-400 text-sm max-w-xs leading-relaxed">The ultimate circuit breaker for high-performers. We combine elite training with luxury downtime to help you reclaim your edge without giving up the good life.</p>
                </div>
                <div class="space-y-4">
                    <h4 class="text-white font-bold uppercase tracking-wider">Quick Links</h4>
                    <ul class="space-y-2 text-sm text-gray-400">
                        <li><a href="#highlights" class="hover:text-primary transition-colors">Highlights</a></li>
                        <li><a href="#overview" class="hover:text-primary transition-colors">Overview</a></li>
                        <li><a href="#whats-included" class="hover:text-primary transition-colors">What's Included</a></li>
                        <li><a href="#dates" class="hover:text-primary transition-colors">Dates</a></li>
                        <li><a href="#contact" class="hover:text-primary transition-colors">Contact Us</a></li>
                    </ul>
                </div>
                <div class="space-y-4">
                    <h4 class="text-white font-bold uppercase tracking-wider">Connect</h4>
                    <div class="flex space-x-4">
                        <a href="#" class="w-10 h-10 rounded-full bg-white/5 flex items-center justify-center text-white hover:bg-primary hover:text-white transition-all">
                            <i data-lucide="instagram" class="w-5 h-5"></i>
                        </a>
                        <a href="mailto:theresetguys@gmail.com" class="w-10 h-10 rounded-full bg-white/5 flex items-center justify-center text-white hover:bg-primary hover:text-white transition-all">
                            <i data-lucide="mail" class="w-5 h-5"></i>
                        </a>
                    </div>
                    <p class="text-gray-400 text-sm mt-4">theresetguys@gmail.com</p>
                </div>
            </div>
            <div class="border-t border-white/10 pt-8 flex flex-col md:flex-row justify-between items-center text-xs text-gray-500">
                <p>&copy; 2024 The Reset Guys. All rights reserved.</p>
                <div class="flex space-x-6 mt-4 md:mt-0">
                    <a href="#" class="hover:text-white">Privacy Policy</a>
                    <a href="#" class="hover:text-white">Terms of Service</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Luxury Chat Widget -->
    <div class="fixed bottom-6 right-6 z-50 flex flex-col items-end">
        <div id="chat-window" class="hidden mb-4 w-[350px] md:w-[400px] h-[500px] bg-dark-gray/95 backdrop-blur-xl border border-white/10 rounded-xl shadow-2xl overflow-hidden animate-in slide-in-from-bottom-5 fade-in duration-300 flex flex-col">
            <div class="bg-gradient-to-r from-primary to-secondary p-4 flex justify-between items-center relative overflow-hidden shrink-0">
                <div class="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-10"></div>
                <div>
                    <h3 class="text-white font-bold uppercase tracking-widest text-sm flex items-center gap-2 relative z-10">
                        <i data-lucide="sparkles" class="w-4 h-4"></i>
                        Concierge AI
                    </h3>
                    <p class="text-white/80 text-[10px] uppercase tracking-wide relative z-10 mt-0.5">Priority Booking Agent</p>
                </div>
                <button onclick="toggleChat()" class="text-white/80 hover:text-white transition-colors relative z-10">
                    <i data-lucide="x" class="w-5 h-5"></i>
                </button>
            </div>
            
            <div id="chat-history" class="flex-1 p-4 overflow-y-auto bg-black/80 flex flex-col gap-2 scroll-smooth">
                <div class="chat-bubble chat-ai">
                    Hello. I am the booking concierge for <strong>The Reset Guys</strong>. I can help you secure your spot, answer questions about the villa, or check dates. <br/><br/>To start, may I have your name?
                </div>
            </div>

            <div class="p-3 bg-dark-gray border-t border-white/10 shrink-0">
                <div class="relative flex items-center gap-2">
                    <input type="text" id="user-input" placeholder="Type your message..." 
                        class="w-full bg-white/5 border border-white/10 rounded-lg py-3 px-4 text-white placeholder-gray-500 focus:outline-none focus:border-primary/50 text-sm transition-all"
                        onkeydown="if(event.key === 'Enter') handleSendBtn()">
                    <button id="send-btn" onclick="handleSendBtn()" class="bg-primary text-white p-2.5 rounded-lg hover:bg-white hover:text-black transition-colors disabled:opacity-50 disabled:cursor-not-allowed">
                        <i data-lucide="send" class="w-5 h-5"></i>
                    </button>
                </div>
                <p class="text-[10px] text-gray-600 text-center mt-2 uppercase tracking-wider">Powered by Gemini AI</p>
            </div>
        </div>

        <button onclick="toggleChat()" id="chat-toggle-btn" class="group flex items-center justify-center w-16 h-16 rounded-full shadow-2xl shadow-primary/40 transition-all duration-300 transform hover:scale-110 bg-gradient-to-br from-primary to-secondary text-white border border-white/10" aria-label="Chat">
             <i data-lucide="bot" class="w-7 h-7 group-hover:rotate-12 transition-transform"></i>
        </button>
    </div>

    <!-- JavaScript Logic -->
    <script>
        // --- 1. Icons ---
        lucide.createIcons();

        // --- 2. Data Arrays ---
        const highlightImages = [
            "https://github.com/spiderfranlee/images/blob/main/Cliffs%201.png?raw=true",
            "https://github.com/spiderfranlee/images/blob/main/Cliffs%202.png?raw=true",
            "https://github.com/spiderfranlee/images/blob/main/Cliffs%20yoga%202.png?raw=true",
            "https://github.com/spiderfranlee/images/blob/main/Cliffs%20yoga%203.png?raw=true",
            "https://github.com/spiderfranlee/images/blob/main/yacht1.jpeg?raw=true",
            "https://github.com/spiderfranlee/images/blob/main/yacht2.jpeg?raw=true"
        ];

        const aboutHighlights = [
            { image: "https://github.com/spiderfranlee/images/blob/main/Cliffs%201.png?raw=true", text: "Train with ocean views, using sandbags, kettlebells, and bodyweight drills just steps from the sand." },
            { image: "https://github.com/spiderfranlee/images/blob/main/Side%20aerial%203.png?raw=true", text: "Unwind in a luxury beachfront villa, with an infinity pool & private beach access." },
            { image: "https://github.com/spiderfranlee/images/blob/main/Cliffs%202.png?raw=true", text: "Feast on locally-inspired cuisine, with fresh seafood, local flavors, and open-fire cooking served up by your private chef." },
            { image: "https://github.com/spiderfranlee/images/blob/main/Cliffs%20yoga%202.png?raw=true", text: "Head off the beaten path for an epic hike through the jungle to the waterfalls of Montezuma. Think lush rainforest, natural swimming holes, and a chef-prepped picnic lunch by the falls." },
            { image: "https://github.com/spiderfranlee/images/blob/main/Cliffs%20yoga%203.png?raw=true", text: "Enjoy surf lessons at Playa Hermosa – one of Costa Rica’s most iconic beach breaks." },
            { image: "https://github.com/spiderfranlee/images/blob/main/yacht1.jpeg?raw=true", text: "Embark on a private yacht excursion to discover hidden coves and experience the coastline from a new perspective.", position: "object-bottom" },
            { image: "https://github.com/spiderfranlee/images/blob/main/yacht2.jpeg?raw=true", text: "Enjoy ultimate relaxation on the open sea, complete with snorkeling, swimming, and sunset views.", position: "object-top" },
            { image: "https://github.com/spiderfranlee/images/blob/main/Workout%20area.png?raw=true", text: "Access our private, fully equipped outdoor training facility designed for functional strength and conditioning." },
            { image: "https://github.com/spiderfranlee/images/blob/main/IMG_7452.jpeg?raw=true", text: "Experience premium living spaces designed for recovery, connection, and deep rest between sessions." }
        ];

        const includedItems = ['Luxury Accommodation', 'Epic Feasts & Nutrition', 'Expert Coaching', 'Daily Recovery', 'Airport Transfers', 'Welcome Gear'];

        const extrasItems = [
            { icon: 'waves', title: "Sunrise Stand-Up Paddle (SUP)" },
            { icon: 'ship', title: "Private Yacht Excursion" },
            { icon: 'utensils', title: "Traditional Culture & Halloumi Tasting Tour" },
            { icon: 'shopping-bag', title: "\"Farm-to-Home\" Local Market Visit" },
            { icon: 'music', title: "Poolside Sunset Live Music & Open Bar" },
            { icon: 'flower-2', title: "Yoga Session" },
            { icon: 'heart-pulse', title: "Massage or Rehab Treatment", desc: "Includes Sauna, Ice bath & Jacuzzi" },
            { icon: 'sparkles', title: "Fresh Sheets & Towels Service" },
            { icon: 'mountain', title: "Cliff Jumps" },
        ];

        const itineraryItems = [
            { time: '07:00 AM', title: 'Morning Mobility & Breathwork', desc: 'Wake up the body and mind with guided protocols.' },
            { time: '08:30 AM', title: 'Nutrient-Dense Breakfast', desc: 'Organic, locally sourced fuel for the day ahead.' },
            { time: '10:00 AM', title: 'Strength & Conditioning', desc: 'Kettlebell mastery and functional movement patterns.' },
            { time: '01:00 PM', title: 'Recovery Lunch & Leisure', desc: 'Time to disconnect, read, or explore the grounds.' },
            { time: '04:00 PM', title: 'Deep Flow / Ice Bath', desc: 'Contrast therapy and guided decompression sessions.' },
            { time: '07:00 PM', title: 'Communal Dinner', desc: 'Connecting with the tribe over exceptional food.' }
        ];

        const navLinks = [
            { name: 'Highlights', href: '#highlights' },
            { name: 'Overview', href: '#overview' },
            { name: 'Philosophy', href: '#philosophy' },
            { name: 'Team', href: '#team' },
            { name: 'Included', href: '#whats-included' },
            { name: 'Extras', href: '#extras' },
            { name: 'Dates', href: '#dates' },
            { name: 'Itinerary', href: '#itinerary' },
            { name: 'Villa', href: '#the-villa' },
            { name: 'Contact', href: '#contact' },
        ];

        // --- 3. Dynamic Content Injection ---

        // Mobile Menu Links
        const mobileMenuContainer = document.querySelector('#mobile-menu > div');
        navLinks.forEach(link => {
            const a = document.createElement('a');
            a.href = link.href;
            a.className = "mobile-link block px-3 py-2 text-base font-bold text-white hover:text-primary hover:bg-white/5 uppercase";
            a.innerText = link.name;
            a.onclick = () => {
                document.getElementById('mobile-menu').classList.add('hidden');
                document.getElementById('menu-icon').setAttribute('data-lucide', 'menu');
                lucide.createIcons();
            }
            mobileMenuContainer.appendChild(a);
        });

        // Inject About Grid
        const aboutGrid = document.getElementById('about-grid');
        aboutHighlights.forEach((item, index) => {
            const div = document.createElement('div');
            div.className = "flex flex-col h-full bg-dark-gray border border-white/10 rounded-xl overflow-hidden group hover:border-primary/50 transition-all duration-300 shadow-lg";
            div.innerHTML = `
                <div class="h-64 sm:h-72 xl:h-80 overflow-hidden relative">
                  <div class="absolute inset-0 bg-primary/10 group-hover:bg-transparent transition-colors z-10"></div>
                  <img 
                    src="${item.image}" 
                    alt="Highlight ${index + 1}"
                    class="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-700 ${item.position || 'object-center'}"
                  />
                </div>
                <div class="p-6 flex-1 flex items-start bg-dark-gray relative z-20">
                  <p class="text-gray-300 text-sm leading-relaxed font-medium">${item.text}</p>
                </div>
            `;
            aboutGrid.appendChild(div);
        });

        // Inject Included Grid
        const includedGrid = document.getElementById('included-grid');
        includedItems.forEach(item => {
            const div = document.createElement('div');
            div.className = "p-6 bg-white/5 rounded-lg border border-white/5 hover:border-primary/30 transition-colors";
            div.innerHTML = `<h3 class="font-bold text-lg text-gray-200">${item}</h3>`;
            includedGrid.appendChild(div);
        });

        // Inject Extras Grid
        const extrasGrid = document.getElementById('extras-grid');
        extrasItems.forEach(extra => {
            const div = document.createElement('div');
            div.className = "flex items-center gap-4 p-4 rounded-xl bg-dark-gray border border-white/10 hover:border-primary/40 transition-colors group";
            div.innerHTML = `
                <div class="flex-shrink-0 w-12 h-12 rounded-full bg-black flex items-center justify-center group-hover:bg-primary/10 transition-colors border border-white/5">
                    <i data-lucide="${extra.icon}" class="text-primary w-6 h-6"></i>
                </div>
                <div>
                    <h3 class="font-bold text-white text-sm md:text-base">${extra.title}</h3>
                    ${extra.desc ? `<p class="text-xs text-gray-500 mt-1">${extra.desc}</p>` : ''}
                </div>
            `;
            extrasGrid.appendChild(div);
        });
        
        // Inject Itinerary
        const itineraryContainer = document.getElementById('itinerary-container');
        itineraryItems.forEach(slot => {
            const div = document.createElement('div');
            div.className = "mb-10 ml-8 relative";
            div.innerHTML = `
                <div class="absolute -left-10 mt-1.5 w-4 h-4 rounded-full bg-primary border-4 border-black"></div>
                <span class="font-bold text-primary text-sm uppercase tracking-wide block mb-1">${slot.time}</span>
                <h3 class="text-xl font-bold text-white mb-1">${slot.title}</h3>
                <p class="text-gray-400 text-sm">${slot.desc}</p>
            `;
            itineraryContainer.appendChild(div);
        });

        // Re-run Lucide for injected icons
        lucide.createIcons();

        // --- 4. Logic Functions ---

        // Navbar Scroll
        const navbar = document.getElementById('navbar');
        window.addEventListener('scroll', () => {
            if (window.scrollY > 50) {
                navbar.classList.add('bg-black/90', 'backdrop-blur-md', 'py-4', 'border-b', 'border-white/10');
                navbar.classList.remove('bg-transparent', 'py-6');
            } else {
                navbar.classList.remove('bg-black/90', 'backdrop-blur-md', 'py-4', 'border-b', 'border-white/10');
                navbar.classList.add('bg-transparent', 'py-6');
            }
        });

        // Mobile Menu Toggle
        function toggleMobileMenu() {
             const mobileMenu = document.getElementById('mobile-menu');
             const menuIcon = document.getElementById('menu-icon');
             if (mobileMenu.classList.contains('hidden')) {
                 mobileMenu.classList.remove('hidden');
                 menuIcon.setAttribute('data-lucide', 'x');
             } else {
                 mobileMenu.classList.add('hidden');
                 menuIcon.setAttribute('data-lucide', 'menu');
             }
             lucide.createIcons();
        }

        // Hero Carousel
        const previewContainer = document.getElementById('preview-container');
        // Generate preview images in DOM
        highlightImages.forEach((src, idx) => {
            const img = document.createElement('img');
            img.src = src;
            img.className = `absolute inset-0 w-full h-full object-cover transition-opacity duration-1000 ease-in-out ${idx === 0 ? 'opacity-80 group-hover:opacity-100' : 'opacity-0'}`;
            img.id = `preview-img-${idx}`;
            previewContainer.insertBefore(img, previewContainer.firstChild); 
        });

        let previewIndex = 0;
        setInterval(() => {
            document.getElementById(`preview-img-${previewIndex}`).classList.remove('opacity-80', 'group-hover:opacity-100');
            document.getElementById(`preview-img-${previewIndex}`).classList.add('opacity-0');
            
            previewIndex = (previewIndex + 1) % highlightImages.length;
            
            document.getElementById(`preview-img-${previewIndex}`).classList.remove('opacity-0');
            document.getElementById(`preview-img-${previewIndex}`).classList.add('opacity-80', 'group-hover:opacity-100');
        }, 2000);

        // Showreel Modal
        const showreelModal = document.getElementById('showreel-modal');
        const mainImage = document.getElementById('showreel-main-image');
        const counter = document.getElementById('showreel-counter');
        const thumbnailsContainer = document.getElementById('showreel-thumbnails');
        
        let currentSlide = 0;
        let showreelInterval;

        // Populate thumbnails
        highlightImages.forEach((src, idx) => {
            const btn = document.createElement('button');
            btn.className = `relative w-20 h-14 rounded-md overflow-hidden border-2 transition-all duration-300 flex-shrink-0 ${idx === 0 ? 'border-primary scale-110 shadow-lg shadow-primary/20' : 'border-transparent opacity-40 hover:opacity-100'}`;
            btn.innerHTML = `<img src="${src}" class="w-full h-full object-cover">`;
            btn.onclick = (e) => { e.stopPropagation(); setCurrentSlide(idx); };
            btn.id = `thumb-${idx}`;
            thumbnailsContainer.appendChild(btn);
        });

        function updateSlide() {
            mainImage.src = highlightImages[currentSlide];
            counter.innerText = `Highlight ${currentSlide + 1} of ${highlightImages.length}`;
            
            for (let i = 0; i < highlightImages.length; i++) {
                const thumb = document.getElementById(`thumb-${i}`);
                if (i === currentSlide) {
                    thumb.className = "relative w-20 h-14 rounded-md overflow-hidden border-2 transition-all duration-300 flex-shrink-0 border-primary scale-110 shadow-lg shadow-primary/20";
                } else {
                    thumb.className = "relative w-20 h-14 rounded-md overflow-hidden border-2 transition-all duration-300 flex-shrink-0 border-transparent opacity-40 hover:opacity-100";
                }
            }
        }

        function setCurrentSlide(idx) {
            currentSlide = idx;
            updateSlide();
        }

        function openShowreel() {
            showreelModal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
            updateSlide();
            showreelInterval = setInterval(() => {
                setCurrentSlide((currentSlide + 1) % highlightImages.length);
            }, 3000);
        }

        function closeShowreel() {
            showreelModal.classList.add('hidden');
            document.body.style.overflow = '';
            clearInterval(showreelInterval);
        }

        function nextSlide(e) {
            e.stopPropagation();
            setCurrentSlide((currentSlide + 1) % highlightImages.length);
        }

        function prevSlide(e) {
            e.stopPropagation();
            setCurrentSlide(currentSlide === 0 ? highlightImages.length - 1 : currentSlide - 1);
        }

        // Team Video Modal
        const videoModal = document.getElementById('video-modal');
        const videoPlayer = document.getElementById('modal-video-player');

        function openVideo(src) {
            videoPlayer.src = src;
            videoModal.classList.remove('hidden');
            videoPlayer.play();
        }

        function closeVideo() {
            videoModal.classList.add('hidden');
            videoPlayer.pause();
            videoPlayer.src = "";
        }

        // --- Chat Toggle Logic ---
        const chatWindow = document.getElementById('chat-window');
        const chatToggleBtn = document.getElementById('chat-toggle-btn');
        let isChatOpen = false;

        function toggleChat() {
            isChatOpen = !isChatOpen;
            if (isChatOpen) {
                chatWindow.classList.remove('hidden');
                chatToggleBtn.innerHTML = `<i data-lucide="x" class="w-7 h-7"></i>`;
                chatToggleBtn.classList.add('bg-white', 'text-primary', 'rotate-90');
                chatToggleBtn.classList.remove('bg-gradient-to-br', 'from-primary', 'to-secondary', 'text-white');
            } else {
                chatWindow.classList.add('hidden');
                chatToggleBtn.innerHTML = `<i data-lucide="bot" class="w-7 h-7 group-hover:rotate-12 transition-transform"></i>`;
                chatToggleBtn.classList.remove('bg-white', 'text-primary', 'rotate-90');
                chatToggleBtn.classList.add('bg-gradient-to-br', 'from-primary', 'to-secondary', 'text-white');
            }
            lucide.createIcons();
        }
    </script>
    
    <script type="module">
        import { GoogleGenAI, Type } from "@google/genai";

        // 🔴 PASTE YOUR API KEY BELOW
        const API_KEY = "AIzaSyCfq-N0dl04Qr38yh0-z5mqc4S4aQ2EYKM"; 
        
        // 🔴 YOUR SPECIFIC GOOGLE SCRIPT URL
        const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbzoyqqz6ylsM-fhbGMlI5_MO3-LZvOigGJ_9PHgh6aK3TNtWVQi1v2JGPnVXp1_Gn5T/exec";

        // Initialize Gemini
        let chatSession = null;
        let ai = null;

        try {
            ai = new GoogleGenAI({ apiKey: API_KEY });
            
            // Tool Definition
            const bookingTool = {
                functionDeclarations: [{
                    name: "book_retreat",
                    description: "Sends customer booking details (Name, Email, Details) to The Reset Guys admin team.",
                    parameters: {
                        type: Type.OBJECT,
                        properties: {
                            customer_name: { type: Type.STRING, description: "The full name of the customer." },
                            customer_email: { type: Type.STRING, description: "The customer's email address." },
                            details: { type: Type.STRING, description: "Any specific questions, dates, or requests." }
                        },
                        required: ["customer_name", "customer_email"]
                    }
                }]
            };

            chatSession = ai.chats.create({
                model: "gemini-3-flash-preview",
                config: {
                    systemInstruction: "You are the Concierge AI for 'The Reset Guys', a luxury wellness and adventure retreat. Your tone is exclusive, professional, but friendly (like a high-end hotel concierge). Your goal is to collect the user's Name, Email, and any questions so you can book them using the 'book_retreat' tool. Do not ask for phone numbers. Be concise.",
                    tools: [bookingTool]
                }
            });

        } catch (e) {
            console.error("AI Init Error:", e);
        }

        // --- Functions Exposed to Window for HTML Buttons ---
        
        window.handleSendBtn = async function() {
            const inputField = document.getElementById("user-input");
            const text = inputField.value.trim();
            if (!text) return;

            // 1. User Message to UI
            addMessageToUI("User", text, "user");
            inputField.value = "";
            setLoading(true);

            try {
                // 2. Send to Gemini
                let result = await chatSession.sendMessage({ message: text });
                let response = result; // Response is directly the result in new SDK for generated content? 
                // The new SDK sendMessage returns GenerateContentResponse directly.

                const functionCalls = response.functionCalls;

                // 3. Check for Tool Use (Booking)
                if (functionCalls && functionCalls.length > 0) {
                    const call = functionCalls[0];
                    if (call.name === "book_retreat") {
                        // Show "Processing" message
                        addMessageToUI("AI", "<i>Processing your request with our team...</i>", "ai");
                        
                        // Call Google Script
                        await sendToGoogleSheet(call.args);
                        
                        // Tell Gemini we did it
                        // Construct the tool response part
                        const toolResponsePart = {
                            functionResponse: {
                                name: "book_retreat",
                                response: { result: "success" },
                                id: call.id
                            }
                        };
                        
                        // Send the tool response back to the model
                        const result2 = await chatSession.sendMessage({
                            message: [toolResponsePart]
                        });
                        
                        const textResponse = result2.text;
                        addMessageToUI("AI", textResponse, "ai");
                    }
                } else {
                    // Normal Text Response
                    addMessageToUI("AI", response.text, "ai");
                }

            } catch (error) {
                console.error(error);
                addMessageToUI("System", "I apologize, I'm having trouble connecting to headquarters right now.", "ai");
            } finally {
                setLoading(false);
            }
        };

        // --- Helper Functions ---

        async function sendToGoogleSheet(data) {
            try {
                await fetch(SCRIPT_URL, {
                    method: "POST",
                    mode: "no-cors", 
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify(data)
                });
                console.log("Sent to Google Script");
            } catch (e) {
                console.error("Google Script Error", e);
            }
        }

        function addMessageToUI(sender, text, type) {
            const history = document.getElementById("chat-history");
            const div = document.createElement("div");
            div.className = `chat-bubble ${type === 'user' ? 'chat-user' : 'chat-ai'} animate-fade-in`;
            div.innerHTML = text; // Allow HTML for formatting
            history.appendChild(div);
            history.scrollTop = history.scrollHeight; // Auto scroll
        }

        function setLoading(isLoading) {
            const btn = document.getElementById("send-btn");
            const history = document.getElementById("chat-history");
            
            if (isLoading) {
                btn.disabled = true;
                const loader = document.createElement("div");
                loader.id = "ai-loader";
                loader.className = "chat-bubble chat-ai";
                loader.innerHTML = `<div class="typing-dot"></div><div class="typing-dot"></div><div class="typing-dot"></div>`;
                history.appendChild(loader);
                history.scrollTop = history.scrollHeight;
            } else {
                btn.disabled = false;
                const loader = document.getElementById("ai-loader");
                if (loader) loader.remove();
            }
        }
    </script>
</body>
</html>